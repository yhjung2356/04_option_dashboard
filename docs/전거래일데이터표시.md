# ğŸ“Š ì „ê±°ë˜ì¼ ë°ì´í„° í‘œì‹œ ê¸°ëŠ¥

## âœ… êµ¬í˜„ ì™„ë£Œ!

ì¥ì´ ë‹«í˜”ì„ ë•Œ ì „ê±°ë˜ì¼ ì¢…ê°€ ê¸°ì¤€ ë°ì´í„°ê°€ ê·¸ëŒ€ë¡œ í‘œì‹œë©ë‹ˆë‹¤.

---

## ğŸ¯ ë™ì‘ ë°©ì‹

### 1ï¸âƒ£ ì¥ì´ ì—´ë ¤ìˆì„ ë•Œ
```
09:00~15:45 (ì£¼ê°„ì¥) ë˜ëŠ” 18:00~05:00 (ì•¼ê°„ì¥)
```
- âœ… 1ì´ˆë§ˆë‹¤ ìƒˆë¡œìš´ ë°ì´í„° ìƒì„±
- âœ… WebSocketìœ¼ë¡œ ì‹¤ì‹œê°„ ë¸Œë¡œë“œìºìŠ¤íŠ¸
- âœ… í™”ë©´ ì‹¤ì‹œê°„ ê°±ì‹ 

### 2ï¸âƒ£ ì¥ì´ ë‹«í˜”ì„ ë•Œ
```
15:45~18:00 ë˜ëŠ” 05:00~09:00 ë˜ëŠ” ì£¼ë§
```
- âœ… ë°ì´í„° ìƒì„± ì¤‘ë‹¨ (ë§ˆì§€ë§‰ ë°ì´í„° ìœ ì§€)
- âœ… WebSocket ë¸Œë¡œë“œìºìŠ¤íŠ¸ ì¤‘ë‹¨
- âœ… í™”ë©´ì— ì „ê±°ë˜ì¼ ë°ì´í„° í‘œì‹œ
- âœ… ì•Œë¦¼ ë°°ë„ˆ í‘œì‹œ

---

## ğŸ¨ í™”ë©´ ë³€í™”

### ì¥ ê±°ë˜ ì¤‘
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ˆ ëŒ€ì‹œë³´ë“œ        19:34:15   ğŸŸ¢ ì£¼ê°„ì¥ ê±°ë˜ì¤‘  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ì‹¤ì‹œê°„ ë°ì´í„°ê°€ 1ì´ˆë§ˆë‹¤ ê°±ì‹ ë©ë‹ˆë‹¤]           â”‚
â”‚                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ ì„ ë¬¼ì „ì²´ â”‚ â”‚ ì˜µì…˜ì „ì²´ â”‚ â”‚ P/C Ratioâ”‚        â”‚
â”‚  â”‚ 125,432  â”‚ â”‚ 458,921  â”‚ â”‚   1.05   â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì¥ ë§ˆê° (ì „ê±°ë˜ì¼ ë°ì´í„°)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ˆ ëŒ€ì‹œë³´ë“œ        19:34:15   ğŸ”´ ì¥ ë§ˆê°        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âš ï¸ ì¥ ë§ˆê°: ì „ê±°ë˜ì¼ ì¢…ê°€ ê¸°ì¤€ ë°ì´í„°ê°€ í‘œì‹œë˜ê³ â”‚
â”‚    ìˆìŠµë‹ˆë‹¤                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ ì„ ë¬¼ì „ì²´ â”‚ â”‚ ì˜µì…˜ì „ì²´ â”‚ â”‚ P/C Ratioâ”‚        â”‚
â”‚  â”‚ 125,432  â”‚ â”‚ 458,921  â”‚ â”‚   1.05   â”‚  â† ê³ ì •â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ ì½”ë“œ ë³€ê²½ ì‚¬í•­

### 1. DataSimulationService.java
```java
@Scheduled(fixedRate = 1000)
public void generateSimulatedData() {
    if (!isMarketOpen()) {
        // ì¥ ë§ˆê° ì‹œì—ëŠ” ë°ì´í„°ë¥¼ ì‚­ì œí•˜ì§€ ì•Šê³  ê·¸ëŒ€ë¡œ ìœ ì§€
        // ë§ˆì§€ë§‰ ê±°ë˜ì¼ì˜ ë°ì´í„°ê°€ ê³„ì† í‘œì‹œë¨
        log.debug("Market is closed. Displaying last trading day data.");
        return; // ë°ì´í„° ìƒì„± ì¤‘ë‹¨
    }
    
    // ì¥ì´ ì—´ë ¸ì„ ë•Œë§Œ ê¸°ì¡´ ë°ì´í„°ë¥¼ ì‚­ì œí•˜ê³  ìƒˆë¡œ ìƒì„±
    optionDataRepository.deleteAll();
    futuresDataRepository.deleteAll();
    generateFuturesData();
    generateOptionsData();
}
```

**í•µì‹¬ ë³€ê²½:**
- âŒ ì´ì „: ì¥ ë§ˆê° ì‹œì—ë„ ë°ì´í„° ì‚­ì œ â†’ ë¹ˆ í™”ë©´
- âœ… í˜„ì¬: ì¥ ë§ˆê° ì‹œ ë°ì´í„° ìœ ì§€ â†’ ì „ê±°ë˜ì¼ ë°ì´í„° í‘œì‹œ

### 2. MarketDataWebSocketHandler.java
```java
@Scheduled(fixedRate = 1000)
public void broadcastMarketData() {
    // ì¥ì´ ë‹«í˜”ìœ¼ë©´ ë¸Œë¡œë“œìºìŠ¤íŠ¸ ì¤‘ì§€
    if (!isMarketOpen()) {
        log.debug("Market closed. Keeping last trading day data on client.");
        return; // ì „ì†¡ ì¤‘ë‹¨
    }
    
    // ì¥ì´ ì—´ë ¸ì„ ë•Œë§Œ WebSocket ì „ì†¡
    MarketOverviewDTO overview = marketDataService.getMarketOverview();
    messagingTemplate.convertAndSend("/topic/market-overview", overview);
}
```

**í•µì‹¬ ë³€ê²½:**
- ì¥ ë§ˆê° ì‹œ WebSocket ë¸Œë¡œë“œìºìŠ¤íŠ¸ ì¤‘ë‹¨
- í´ë¼ì´ì–¸íŠ¸ëŠ” ë§ˆì§€ë§‰ ìˆ˜ì‹  ë°ì´í„° ìœ ì§€

### 3. dashboard.html
```html
<!-- ì¥ ë§ˆê° ì•Œë¦¼ ë°°ë„ˆ -->
<div id="market-closed-banner" class="market-closed-banner" style="display: none;">
    <i class="fas fa-info-circle"></i>
    <span>ì¥ ë§ˆê°: ì „ê±°ë˜ì¼ ì¢…ê°€ ê¸°ì¤€ ë°ì´í„°ê°€ í‘œì‹œë˜ê³  ìˆìŠµë‹ˆë‹¤</span>
</div>
```

### 4. dashboard.js
```javascript
function setMarketClosed(statusElement, statusIcon, statusText, message, closedBanner) {
    // ... ìƒíƒœ ì•„ì´ì½˜ ë³€ê²½ ...
    
    // ì•Œë¦¼ ë°°ë„ˆ í‘œì‹œ
    if (closedBanner) closedBanner.style.display = 'flex';
}
```

---

## ğŸ“Š ë°ì´í„° íë¦„

### ì¥ ê±°ë˜ ì¤‘
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DataSimulation  â”‚ â† 1ì´ˆë§ˆë‹¤ ìƒˆ ë°ì´í„° ìƒì„±
â”‚     Service     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ ì €ì¥
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Database      â”‚ â† ê¸°ì¡´ ë°ì´í„° ì‚­ì œ í›„ ì €ì¥
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ ì¡°íšŒ
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MarketData      â”‚ â† ë°ì´í„° ê°€ê³µ
â”‚    Service      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ WebSocket
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ë¸Œë¼ìš°ì €       â”‚ â† ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì¥ ë§ˆê°
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DataSimulation  â”‚ â† ë°ì´í„° ìƒì„± ì¤‘ë‹¨
â”‚     Service     â”‚    (returnìœ¼ë¡œ ì¢…ë£Œ)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Database      â”‚ â† ë§ˆì§€ë§‰ ë°ì´í„° ìœ ì§€ (ì‚­ì œ ì•ˆí•¨)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ ì¡°íšŒ (ì—¬ì „íˆ ê°€ëŠ¥)
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MarketData      â”‚ â† GET ìš”ì²­ì€ ê³„ì† ì‘ë‹µ
â”‚    Service      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  WebSocket      â”‚ â† ë¸Œë¡œë“œìºìŠ¤íŠ¸ ì¤‘ë‹¨
â”‚   Handler       â”‚    (returnìœ¼ë¡œ ì¢…ë£Œ)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ë¸Œë¼ìš°ì €       â”‚ â† ë§ˆì§€ë§‰ ë°ì´í„° ìœ ì§€
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    (ìë™ ê°±ì‹  ë©ˆì¶¤)
```

---

## ğŸ¯ ì¥ì 

### 1. ì‚¬ìš©ì ê²½í—˜ ê°œì„ 
- âŒ ì´ì „: ì¥ ë§ˆê° ì‹œ ë¹ˆ í™”ë©´
- âœ… í˜„ì¬: ì „ê±°ë˜ì¼ ë°ì´í„°ë¡œ ì°¸ê³  ê°€ëŠ¥

### 2. ì„œë²„ ë¦¬ì†ŒìŠ¤ ì ˆì•½
- âœ… ì¥ ë§ˆê° ì‹œ ë°ì´í„° ìƒì„± ì¤‘ë‹¨
- âœ… WebSocket ì „ì†¡ ì¤‘ë‹¨
- âœ… CPU/ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ê°ì†Œ

### 3. ëª…í™•í•œ ì•ˆë‚´
- âœ… ì•Œë¦¼ ë°°ë„ˆë¡œ ì¥ ë§ˆê° ìƒíƒœ í‘œì‹œ
- âœ… ë°ì´í„°ê°€ ì‹¤ì‹œê°„ì´ ì•„ë‹˜ì„ ëª…í™•íˆ ì•ˆë‚´

---

## ğŸ” í…ŒìŠ¤íŠ¸ ë°©ë²•

### 1. ë°ëª¨ ëª¨ë“œì—ì„œ ì‹¤ì œ ëª¨ë“œë¡œ ì „í™˜
```properties
# application.properties
trading.demo-mode=false
```

### 2. í˜„ì¬ ì‹œê°„ í™•ì¸
- ì£¼ê°„ì¥: 09:00~15:45 â†’ ì‹¤ì‹œê°„ ë°ì´í„°
- ê·¸ ì™¸ ì‹œê°„: â†’ ì „ê±°ë˜ì¼ ë°ì´í„°

### 3. ë¡œê·¸ í™•ì¸
**ì¥ ê±°ë˜ ì¤‘:**
```
INFO - Generating simulated market data... (Demo Mode: false)
```

**ì¥ ë§ˆê°:**
```
DEBUG - Market is closed. Displaying last trading day data.
DEBUG - Market closed. Keeping last trading day data on client.
```

---

## ğŸ“ í˜„ì¬ ì„¤ì •

**application.properties:**
```properties
trading.demo-mode=false        â† ì‹¤ì œ ì¥ ì‹œê°„ ì²´í¬
trading.market-hours.enabled=true
```

**ë™ì‘:**
- í‰ì¼ 09:00~15:45, 18:00~05:00 â†’ ì‹¤ì‹œê°„ ë°ì´í„°
- ê·¸ ì™¸ ì‹œê°„ ë° ì£¼ë§ â†’ ì „ê±°ë˜ì¼ ë°ì´í„° í‘œì‹œ

---

## ğŸ‰ ì™„ì„±!

ì´ì œ ì‹¤ì œ ì¦ê¶Œì‚¬ HTSì²˜ëŸ¼:
1. âœ… ì¥ ì‹œê°„ì—ë§Œ ì‹¤ì‹œê°„ ë°ì´í„° ê°±ì‹ 
2. âœ… ì¥ ë§ˆê° ì‹œ ì „ê±°ë˜ì¼ ì¢…ê°€ ìœ ì§€
3. âœ… ëª…í™•í•œ ìƒíƒœ í‘œì‹œ
4. âœ… ì„œë²„ ë¦¬ì†ŒìŠ¤ ì ˆì•½

**ì ‘ì†:** http://localhost:8080

ë¸Œë¼ìš°ì €ë¥¼ ìƒˆë¡œê³ ì¹¨í•˜ë©´ ìƒë‹¨ì—:
- í˜„ì¬ ì‹œê°„ì— ë”°ë¥¸ ì¥ ìƒíƒœ í‘œì‹œ
- ì¥ ë§ˆê° ì‹œ ì•Œë¦¼ ë°°ë„ˆ í‘œì‹œ

ì‹¤ì „ê³¼ ë˜‘ê°™ì€ ëŒ€ì‹œë³´ë“œê°€ ì™„ì„±ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸš€
