# 🎯 선물/옵션 실시간 거래 대시보드 - 완성! 

## ✅ 애플리케이션 실행 중!

**접속 URL:** http://localhost:8080

애플리케이션이 성공적으로 실행되었습니다! 웹 브라우저에서 위 주소로 접속하세요.

---

## 🎨 구현된 주요 기능

### 📊 1. 실시간 시장 현황 (상단 카드)
- **선물 전체 통계**
  - 거래량: 실시간 업데이트
  - 거래대금: 억원/만원 단위 자동 변환
  - 미결제약정: 시장 포지션 규모
  
- **옵션 전체 통계** 
  - 콜+풋 합산 거래량
  - 총 거래대금
  - 전체 미결제약정
  
- **Put/Call Ratio** ⭐ (시장 심리 지표)
  - 거래량 기준 비율
  - 미결제약정 기준 비율
  - 거래대금 기준 비율
  - 색상 코딩: 
    - 녹색 < 0.7: 강세 시장
    - 노란색 0.7~1.0: 중립
    - 빨간색 > 1.0: 약세 시장

### 🔥 2. 거래 상위 종목 (중간 섹션)
- **좌측**: 거래대금 상위 10종목
- **우측**: 거래량 상위 10종목
- 선물/옵션 구분 표시 (색상 구분)
- 실시간 순위 변동

### 📈 3. 옵션 체인 분석 (하단 - 가장 디테일한 부분!)

#### 행사가별 상세 정보
**콜 옵션 (좌측 - 녹색)**
- 매수/매도 호가 스프레드
- 델타(Delta) - 가격 민감도
- 거래량 (높은 거래량 강조)
- 미결제약정 (높은 OI 강조)
- 현재가

**행사가 (중앙 - 파란색)**
- ATM(At The Money) 행사가 하이라이트
- 2.5 단위 행사가 표시 (280~320)

**풋 옵션 (우측 - 빨간색)**
- 현재가
- 미결제약정 (높은 OI 강조)
- 거래량 (높은 거래량 강조)
- 델타(Delta)
- 매수/매도 호가 스프레드

#### 고급 분석 지표
- **Max Pain**: 옵션 만기 시 옵션 매도자 최소 손실 가격
- **기초자산 가격**: 현재 선물 가격 추정
- **ATM 행사가**: 현재가와 가장 가까운 행사가 (파란색 강조)
- **거래 집중도**: 
  - 거래량 최대 행사가 표시
  - 미결제약정 최대 행사가 표시

### ⚡ 4. 실시간 업데이트
- **1초 단위** 자동 갱신
- WebSocket 연결로 지연 없는 데이터 전송
- 연결 상태: LIVE 인디케이터

---

## 🎨 UI/UX 특징

### 다크 테마 트레이딩 인터페이스
- 눈의 피로를 줄이는 다크 모드
- 전문 트레이딩 플랫폼 스타일
- 직관적인 색상 코딩:
  - 🟢 콜 옵션: 녹색
  - 🔴 풋 옵션: 빨간색
  - 🔵 ATM: 파란색
  - 🟠 높은 거래량/OI: 주황색

### 반응형 디자인
- 데스크톱 최적화
- 실시간 호버 효과
- 부드러운 애니메이션

---

## 📊 데이터 시뮬레이션 로직

현재는 실시간 시뮬레이션 데이터를 생성합니다:

### 선물 데이터
- KOSPI200 선물
- 미니 KOSPI200 선물
- 랜덤 가격 변동 (±10pt)
- 실제적인 거래량/미결제약정

### 옵션 데이터
- 행사가: 280~320 (5pt 단위)
- 콜/풋 각각 생성
- **ATM 효과**: 행사가가 현재가(300)에 가까울수록 거래량 증가
- **내재가치 계산**: 실제 옵션 가격 모델 반영
- **델타 계산**: 
  - 콜: 0.01~0.99
  - 풋: -0.99~-0.01
- **내재변동성**: ATM에서 높고 OTM으로 갈수록 변동

---

## 🔧 기술 스택

### Backend
- **Spring Boot 3.2.0**: 최신 버전
- **Spring Data JPA**: 데이터베이스 관리
- **Spring WebSocket**: 실시간 통신
- **H2 Database**: 인메모리 DB
- **Lombok**: 코드 간소화

### Frontend
- **Thymeleaf**: 서버사이드 템플릿
- **Vanilla JavaScript**: 순수 JS (no 프레임워크)
- **SockJS + STOMP**: WebSocket 통신
- **CSS3**: 현대적인 스타일링
- **Font Awesome**: 아이콘

---

## 📁 프로젝트 구조

```
src/
├── main/
│   ├── java/com/trading/dashboard/
│   │   ├── DashboardApplication.java         # 메인 애플리케이션
│   │   ├── config/
│   │   │   └── WebSocketConfig.java          # WebSocket 설정
│   │   ├── controller/
│   │   │   ├── DashboardController.java      # 페이지 컨트롤러
│   │   │   └── MarketDataController.java     # REST API
│   │   ├── dto/
│   │   │   ├── MarketOverviewDTO.java        # 시장 현황
│   │   │   ├── PutCallRatioDTO.java          # P/C Ratio
│   │   │   ├── OptionChainAnalysisDTO.java   # 옵션 체인
│   │   │   └── ...
│   │   ├── model/
│   │   │   ├── FuturesData.java              # 선물 엔티티
│   │   │   ├── OptionData.java               # 옵션 엔티티
│   │   │   └── ...
│   │   ├── repository/
│   │   │   ├── FuturesDataRepository.java
│   │   │   └── OptionDataRepository.java
│   │   ├── service/
│   │   │   ├── MarketDataService.java        # 비즈니스 로직
│   │   │   └── DataSimulationService.java    # 시뮬레이션
│   │   └── websocket/
│   │       └── MarketDataWebSocketHandler.java
│   └── resources/
│       ├── static/
│       │   ├── css/dashboard.css             # 스타일
│       │   └── js/dashboard.js               # 클라이언트 로직
│       ├── templates/
│       │   └── dashboard.html                # 메인 페이지
│       └── application.properties            # 설정
```

---

## 🚀 실제 데이터 연동 가이드

현재는 시뮬레이션이지만, 실제 데이터 연동은:

### 1. 한국거래소(KRX) API 연동
```java
@Service
public class KrxDataService {
    @Scheduled(fixedRate = 1000)
    public void fetchRealTimeData() {
        // KRX API 호출
        // 선물 데이터 저장
        // 옵션 데이터 저장
    }
}
```

### 2. 증권사 HTS API
- 키움증권 OpenAPI
- 이베스트투자증권 xingAPI
- 한국투자증권 KIS API

### 3. WebSocket 실시간 시세
```java
@Component
public class RealTimeDataReceiver {
    @EventListener
    public void onMarketData(MarketDataEvent event) {
        // 실시간 데이터 수신
        // WebSocket으로 브로드캐스트
    }
}
```

---

## 🎓 학습 포인트

이 프로젝트를 통해 배울 수 있는 것:

1. **Spring Boot 실시간 애플리케이션** 구축
2. **WebSocket 통신** 구현
3. **복잡한 금융 데이터** 모델링
4. **옵션 가격 이론** 적용
5. **실시간 대시보드 UI/UX** 디자인
6. **대용량 데이터 처리** 패턴

---

## 🎯 향후 확장 가능성

### 추가 구현 아이디어
1. **차트 시각화**
   - Chart.js로 가격 추이 그래프
   - 옵션 체인 히트맵
   - IV(Implied Volatility) Surface

2. **알림 기능**
   - 특정 행사가 거래량 급증 알림
   - P/C Ratio 임계값 알림
   - Max Pain 변동 알림

3. **히스토리 데이터**
   - 시간대별 거래량 추이
   - 과거 P/C Ratio 차트
   - OI 변화 추적

4. **포트폴리오 관리**
   - 보유 포지션 입력
   - 손익 계산
   - 리스크 분석

5. **고급 분석**
   - Greeks 계산 (Delta, Gamma, Theta, Vega)
   - Volatility Smile 분석
   - 스프레드 전략 시뮬레이션

---

## 🎉 완성!

브라우저에서 **http://localhost:8080** 에 접속하여 
실시간으로 데이터가 업데이트되는 것을 확인하세요!

**특별히 주목할 부분:**
- 상단의 Put/Call Ratio가 실시간으로 변하는 것
- 옵션 체인에서 ATM 행사가가 파란색으로 강조되는 것
- 거래량이 많은 행사가가 주황색으로 표시되는 것
- Max Pain 가격 계산
- 1초마다 자동으로 데이터가 갱신되는 것

**즐거운 트레이딩 되세요!** 📈📉
