import{b as A,u as H,a as L,c as $}from"./index-CZtQriak.js";import{e as E,r as S,b as d,p as N,q as U,k as n,g as e,t as c,h as v,s as V,n as l,i as g,G as f,E as x,m as u,o as i}from"./vue-vendor-BY2nPfSv.js";const I={class:"bg-gradient-to-r from-primary to-primary-dark text-white shadow-lg"},z={class:"container mx-auto px-3 py-2 md:px-4 md:py-3"},F={class:"flex items-center justify-between"},K={class:"flex items-center space-x-2 md:space-x-3"},O={class:"text-xs text-primary-light hidden md:block"},q={class:"flex items-center space-x-2 md:space-x-6"},G={class:"hidden md:flex items-center space-x-2"},P={key:0},W={key:1},J={class:"flex items-center space-x-2 px-3 py-1.5 rounded-lg bg-white/10 backdrop-blur-sm"},Q={class:"relative flex items-center justify-center"},X={key:0,class:"absolute w-2.5 h-2.5 rounded-full bg-green-400 animate-ping"},Y={key:1,class:"absolute w-4 h-4 border-2 border-yellow-400 border-t-transparent rounded-full animate-spin"},Z={class:"flex flex-col"},ee={class:"text-xs font-medium leading-tight"},te={key:0,class:"text-[10px] opacity-75 leading-tight"},oe=["disabled"],se={class:"hidden lg:flex items-center gap-2 px-3 py-1.5 rounded-lg bg-white/10"},ne={class:"flex flex-col"},ie={class:"text-xs font-semibold leading-tight"},de=E({__name:"AppHeader",setup(ae){const a=A(),p=H(),T=L(),{isDark:M,toggleTheme:w}=$(),b=S("");let m;function k(){const o=new Date;b.value=o.toLocaleString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}const D=d(()=>a.statusText),s=d(()=>a.connectionStatus),y=d(()=>a.reconnectAttempts);function B(){a.reset(),a.connect()}const r=S(!1);async function _(){if(!r.value){r.value=!0;try{await Promise.all([p.fetchOverview(),T.fetchChainData()])}catch(o){console.error("ë°ì´í„° ìƒˆë¡œê³ ì¹¨ ì‹¤íŒ¨:",o)}finally{setTimeout(()=>{r.value=!1},500)}}}function C(o){o.key==="F5"&&(o.preventDefault(),_())}const R=d(()=>{if(!p.lastUpdate)return"-";const o=Date.now()-p.lastUpdate.getTime();return o<1e3?"ë°©ê¸ˆ ì „":o<6e4?`${Math.floor(o/1e3)}ì´ˆ ì „`:`${Math.floor(o/6e4)}ë¶„ ì „`});return N(()=>{k(),m=window.setInterval(k,1e3),window.addEventListener("keydown",C)}),U(()=>{m&&clearInterval(m),window.removeEventListener("keydown",C)}),(o,t)=>{const h=V("RouterLink");return i(),n("header",I,[e("div",z,[e("div",F,[e("div",K,[t[2]||(t[2]=e("div",{class:"text-xl md:text-2xl font-bold"},"ğŸ“Š",-1)),e("div",null,[t[1]||(t[1]=e("h1",{class:"text-sm md:text-xl font-bold"},"ì„ ë¬¼/ì˜µì…˜ ëª¨ë‹ˆí„°",-1)),e("p",O,c(b.value),1)])]),e("div",q,[e("nav",G,[v(h,{to:"/",class:l(["px-3 py-1 text-sm rounded hover:bg-white/20 transition-colors",{"bg-white/30":o.$route.path==="/"}])},{default:g(()=>[...t[3]||(t[3]=[f("ëŒ€ì‹œë³´ë“œ",-1)])]),_:1},8,["class"]),v(h,{to:"/settings",class:l(["px-3 py-1 text-sm rounded hover:bg-white/20 transition-colors",{"bg-white/30":o.$route.path==="/settings"}])},{default:g(()=>[...t[4]||(t[4]=[f("ì„¤ì •",-1)])]),_:1},8,["class"]),v(h,{to:"/about",class:l(["px-3 py-1 text-sm rounded hover:bg-white/20 transition-colors",{"bg-white/30":o.$route.path==="/about"}])},{default:g(()=>[...t[5]||(t[5]=[f("ì •ë³´",-1)])]),_:1},8,["class"])]),e("button",{onClick:t[0]||(t[0]=(...j)=>x(w)&&x(w)(...j)),class:"hidden md:block p-2 rounded-lg hover:bg-white/20 transition-colors",title:"ë‹¤í¬ ëª¨ë“œ ì „í™˜"},[x(M)?(i(),n("span",P,"ğŸŒ™")):(i(),n("span",W,"â˜€ï¸"))]),e("div",J,[e("div",Q,[e("div",{class:l(["w-2.5 h-2.5 rounded-full transition-colors duration-300",{"bg-green-400":s.value==="connected","bg-yellow-400":s.value==="connecting","bg-red-400":s.value==="disconnected"||s.value==="error","bg-orange-400":s.value==="holiday"}])},null,2),s.value==="connected"?(i(),n("div",X)):u("",!0),s.value==="connecting"?(i(),n("div",Y)):u("",!0)]),e("div",Z,[e("span",ee,c(D.value),1),s.value==="connecting"&&y.value>0?(i(),n("span",te," ì¬ì‹œë„ "+c(y.value)+"íšŒ ",1)):u("",!0)]),s.value==="error"||s.value==="disconnected"?(i(),n("button",{key:0,onClick:B,class:"ml-1 p-1 rounded hover:bg-white/20 transition-colors",title:"ìˆ˜ë™ ì¬ì—°ê²°"},[...t[6]||(t[6]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)])])):u("",!0)]),e("button",{onClick:_,disabled:r.value,class:"hidden md:flex items-center gap-1 px-3 py-1.5 rounded-lg bg-white/10 hover:bg-white/20 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"ë°ì´í„° ìƒˆë¡œê³ ì¹¨ (F5)"},[(i(),n("svg",{class:l(["w-4 h-4 transition-transform",{"animate-spin":r.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[7]||(t[7]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])],2)),t[8]||(t[8]=e("span",{class:"text-xs font-medium"},"ìƒˆë¡œê³ ì¹¨",-1))],8,oe),e("div",se,[t[10]||(t[10]=e("svg",{class:"w-4 h-4 opacity-75",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("div",ne,[t[9]||(t[9]=e("span",{class:"text-[10px] opacity-75 leading-tight"},"ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸",-1)),e("span",ie,c(R.value),1)])])])])])])}}});export{de as _};
