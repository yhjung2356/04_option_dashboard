# 📋 TODO List

> 선물/옵션 실시간 거래 대시보드 - 작업 계획 및 현황

---

## ✅ 최근 완료 (2025-12-25)

### 🎯 핵심 기능
- [x] **KIS API 멀티 WebSocket 연결**
  - 4개 연결 구성 (40 심볼/연결)
  - 선물 1개 + 옵션 122개 (총 123개 심볼)
  - WebSocket 전용 approval_key 인증 구현
  - 실시간 데이터 수신 안정화

- [x] **옵션 체인 개선**
  - 행사가 표시 개수: 14개 (±17.5pt)
  - 내림차순 정렬 (높은 행사가부터)
  - 기초자산 가격 기준 동적 필터링

- [x] **휴장일 처리 자동화**
  - 2025-2026년 한국 공휴일 데이터 내장
  - 주말/공휴일 자동 감지
  - WebSocket 연결 차단 및 "휴장" 상태 표시
  - 1월 첫 거래일: 10:00 시작
  - 수능날: 10:00 시작

- [x] **프론트엔드 WebSocket 연결**
  - 개발/프로덕션 환경 분리
  - 백엔드 포트(8080) 자동 연결
  - 재연결 로직 개선

---

## 🚀 이미 완료된 기능

### 💼 KIS API 연동
- [x] OAuth 2.0 인증 (REST API)
- [x] WebSocket 전용 인증 (approval_key)
- [x] 토큰 캐싱 및 자동 갱신
- [x] 선물/옵션 시세 조회
- [x] 종목코드 마스터 조회

### 📊 데이터 처리
- [x] 실시간 시세 업데이트 (WebSocket)
- [x] 옵션 체인 분석
- [x] Put/Call Ratio (3가지 기준)
- [x] Greeks 계산 (Δ, Γ, Θ, ν, IV)
- [x] Max Pain 계산
- [x] ATM 자동 감지

### 🎨 UI/UX
- [x] Vue 3 + TypeScript 프론트엔드
- [x] 반응형 디자인
- [x] 실시간 데이터 바인딩
- [x] 옵션 체인 테이블
- [x] 거래량/미결제약정 TOP 5
- [x] 시장 심리 게이지
- [x] 투자자 안내문 모달
- [x] 페이지 상태 공유 (URL)

### 🛠️ 인프라
- [x] Spring Boot 3.2.0 백엔드
- [x] Docker 컨테이너화
- [x] Docker Compose 설정
- [x] AWS Ubuntu 배포 가이드
- [x] Systemd 서비스
- [x] 핫 리로드 개발 환경

---

## 🔥 다음 우선순위

### 1️⃣ 실제 시장 데이터 검증 (최우선)
- [ ] 장 시간에 실제 데이터 수신 테스트
- [ ] WebSocket 4개 연결 안정성 확인
- [ ] 123개 심볼 실시간 업데이트 검증
- [ ] 프론트엔드 데이터 표시 정확도 확인

### 2️⃣ 에러 핸들링 강화
- [ ] WebSocket 연결 실패 시 재연결 전략
- [ ] KIS API 호출 실패 시 fallback
- [ ] 네트워크 타임아웃 처리
- [ ] 에러 로그 수집 및 분석

### 3️⃣ 성능 최적화
- [ ] 프론트엔드 렌더링 최적화
  - 옵션 체인 테이블 가상 스크롤
  - 불필요한 re-render 방지
- [ ] 백엔드 메모리 사용량 모니터링
- [ ] WebSocket 메시지 압축 검토

### 4️⃣ 사용자 경험 개선
- [ ] 로딩 상태 표시 개선
- [ ] 에러 메시지 사용자 친화적으로 변경
- [ ] 툴팁 및 도움말 추가
- [ ] 키보드 단축키 지원

---

## 📝 중기 계획 (1-3개월)

### 📊 데이터 분석
- [ ] 히스토리 데이터 저장 (PostgreSQL)
- [ ] 과거 데이터 차트 조회
- [ ] 거래 패턴 분석
- [ ] 변동성 추세 분석

### 🔔 알림 기능
- [ ] 가격 도달 알림
- [ ] 거래량 급증 알림
- [ ] IV 변동 알림
- [ ] 브라우저 Push Notification
- [ ] 이메일 알림 (선택)

### 🎨 UI 고도화
- [ ] 다크 모드
- [ ] 커스터마이징 가능한 레이아웃
- [ ] 차트 라이브러리 통합 (Chart.js)
- [ ] Greeks 차트 시각화
- [ ] Volatility Smile 차트

### 🔐 보안 강화
- [ ] Spring Security 적용
- [ ] API 키 암호화 저장
- [ ] Rate Limiting
- [ ] CORS 정책 강화
- [ ] HTTPS 강제 적용

---

## 🌟 장기 계획 (3-6개월)

### 🤖 고급 분석
- [ ] 스프레드 전략 분석
- [ ] 헤지 비율 계산
- [ ] 시나리오 분석 (What-if)
- [ ] 백테스팅 기능

### 💼 포트폴리오 관리
- [ ] 가상 계좌 시뮬레이션
- [ ] 포지션 관리
- [ ] 손익 분석
- [ ] 리스크 지표 (VaR, Greeks 합산)

### 📱 모바일 지원
- [ ] 모바일 반응형 최적화
- [ ] PWA 오프라인 지원
- [ ] 모바일 앱 검토 (React Native)

### 🏗️ 아키텍처 개선
- [ ] Redis 캐싱
- [ ] Kubernetes 배포
- [ ] 로드 밸런서
- [ ] CI/CD 자동화 (GitHub Actions)
- [ ] 모니터링 (Prometheus + Grafana)

---

## 🐛 알려진 이슈

### 🔴 긴급
- 없음 (현재 안정적 운영 중)

### 🟡 일반
- [ ] 장 시간 외 데이터 표시 방식 개선 필요
- [ ] WebSocket 재연결 시 중복 구독 방지
- [ ] 특정 옵션 코드 조회 실패 시 처리 개선

### 🟢 낮은 우선순위
- [ ] 콘솔 로그 정리
- [ ] 불필요한 주석 제거
- [ ] 코드 중복 제거 (리팩토링)
- [ ] Log4j 로그 rotation 설정

---

## 🧪 테스트 계획

### 단위 테스트
- [ ] Service Layer 테스트 작성
- [ ] Repository Layer 테스트
- [ ] Utility 함수 테스트
- [ ] 목표: 60% 이상 커버리지

### 통합 테스트
- [ ] API 엔드포인트 테스트
- [ ] WebSocket 연결 테스트
- [ ] KIS API 통합 테스트

### 성능 테스트
- [ ] JMeter 부하 테스트
- [ ] 동시 접속 100명 시나리오
- [ ] 메모리 사용량 프로파일링

---

## 📚 문서화

### ✅ 완료
- [x] README.md
- [x] KIS API 연동 가이드
- [x] AWS 배포 가이드
- [x] 프로젝트 구조 문서
- [x] 실행 가이드

### 📝 추가 필요
- [ ] API 명세서 (Swagger/OpenAPI)
- [ ] 아키텍처 다이어그램
- [ ] 데이터베이스 스키마 (추후)
- [ ] 트러블슈팅 가이드
- [ ] 운영 매뉴얼

---

## 🎓 학습 및 연구

- [ ] Reactive Programming (WebFlux) 도입 검토
- [ ] GraphQL API 전환 검토
- [ ] Server-Sent Events (SSE) vs WebSocket 비교
- [ ] Kotlin 마이그레이션 검토 (장기)

---

## 📅 마일스톤

### ✅ v1.0.0 (2025-12-21)
- 기본 기능 완성
- AWS 배포 가이드 완성
- 문서화 완료

### ✅ v1.1.0 (2025-12-25)
- KIS WebSocket 멀티 연결 구현
- 휴장일 자동 처리
- 옵션 체인 개선 (14개, 내림차순)

### 🎯 v1.2.0 (2026-01)
- 실제 시장 데이터 검증 완료
- 에러 핸들링 강화
- 성능 최적화

### 🎯 v1.3.0 (2026-02)
- 히스토리 데이터 저장
- 알림 기능
- 차트 시각화

### 🚀 v2.0.0 (2026 Q2)
- 포트폴리오 관리
- 고급 분석 기능
- 모바일 최적화

---

## 💡 아이디어 메모

### 기능 아이디어
- 특정 행사가 "즐겨찾기" 기능
- 옵션 전략 템플릿 (Straddle, Strangle 등)
- 손익 시뮬레이터
- 만기일 D-Day 카운터
- IV Rank / IV Percentile 표시

### 기술 아이디어
- Server-Sent Events로 실시간 업데이트 (WebSocket 대안)
- IndexedDB로 클라이언트 캐싱
- Web Worker로 데이터 처리 분리
- Canvas로 옵션 체인 렌더링 (성능 개선)

---

## 📞 기여 및 문의

- **Repository**: [GitHub - 04_option_dashboard](https://github.com/yhjung2356/04_option_dashboard)
- **Branch**: `appmod/java-upgrade-20251222005803`
- **Contact**: Issue 또는 PR로 연락 주세요

---

**마지막 업데이트**: 2025-12-25  
**현재 상태**: ✅ 안정적 운영 중 (휴장일 처리 완료)
